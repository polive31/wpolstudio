(()=>{"use strict";const e=window.ReactJSXRuntime;!function(s){const{addFilter:t}=s.hooks,{createHigherOrderComponent:l}=s.compose,{InspectorControls:i}=s.blockEditor,{PanelBody:o,SelectControl:n,ComboboxControl:a}=s.components,{Fragment:r,useState:c}=s.element,d=[{label:"Logged-out",value:"logged_out"},{label:"Logged-in",value:"logged_in"},{label:"Admin",value:"administrator"},{label:"Editor",value:"editor"},{label:"Subscriber",value:"subscriber"}],p=[{label:"Computer",value:"desktop"},{label:"Mobile",value:"mobile"}],g=["pages","posts types","posts","archives","roles","devices"],u={pages:"Pages","posts types":"Posts Types",posts:"Posts",archives:"Archives",roles:"User Roles",devices:"Devices"};function b({attributes:s,setAttributes:t}){const l=window.cwmWidgetOptions||{},[r,b]=c([]),[m,v]=c(!1),[h,w]=c(g.reduce((e,s)=>({...e,[s]:!1}),{})),y=s.twmVisibility||{},[j,x]=c([]),[C,A]=c([]),S=e=>{t({twmVisibility:e})};return(0,e.jsx)(i,{children:(0,e.jsx)(o,{title:"Tiny Widget Manager",initialOpen:!1,children:(0,e.jsx)("div",{className:"twim-widget-controls",children:g.map(s=>(0,e.jsx)(o,{title:u[s]||s,initialOpen:!!h[s],onToggle:()=>(e=>{w(s=>({...s,[e]:!s[e]}))})(s),opened:!!h[s],children:"posts"===s?(0,e.jsx)(a,{label:"Test Posts",value:"",options:[],onInputChange:e=>{console.log("Input changed:",e)},onChange:()=>{}}):"roles"===s?(0,e.jsx)(n,{multiple:!0,label:"Select User Roles",value:y.roles||[],options:d,onChange:e=>{S({...y,roles:Array.isArray(e)?e:[e]})}}):"devices"===s?(0,e.jsx)(n,{multiple:!0,label:"Select Devices",value:y.devices||[],options:p,onChange:e=>{S({...y,devices:Array.isArray(e)?e:[e]})}}):(0,e.jsx)(n,{multiple:!0,label:`Select ${u[s]||s}`,value:y[s]||[],options:Object.entries(l[s]?.items||{}).map(([e,s])=>({label:s,value:e})),onChange:e=>{S({...y,[s]:Array.isArray(e)?e:[e]})}})},s))})})})}t("editor.BlockEdit","tiny-widget-manager/with-tiny-widget-manager-panel",l(s=>t=>(0,e.jsxs)(r,{children:[(0,e.jsx)(s,{...t}),(0,e.jsx)(b,{...t})]}),"withTinyWidgetManagerPanel"))}(window.wp)})();